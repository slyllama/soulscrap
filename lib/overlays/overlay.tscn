[gd_scene load_steps=5 format=3 uid="uid://b7kkp37wp3ndo"]

[ext_resource type="Script" uid="uid://c5efta1qqtkn3" path="res://lib/overlays/overlay.gd" id="1_2m328"]
[ext_resource type="Shader" uid="uid://dfubs0v03468n" path="res://lib/overlays/shaders/smoke.gdshader" id="1_lw2cd"]
[ext_resource type="Texture2D" uid="uid://da0xt0w34hnyb" path="res://lib/overlays/textures/smoke_noise.tres" id="3_2m328"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3x0gg"]
shader = ExtResource("1_lw2cd")
shader_parameter/smoke_effect = ExtResource("3_2m328")
shader_parameter/wobble_pattern = ExtResource("3_2m328")
shader_parameter/value = 0.0
shader_parameter/overall_scale = 2.0
shader_parameter/time_factor = 0.2

[node name="Overlay" type="CanvasLayer"]
script = ExtResource("1_2m328")

[node name="Vignette" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_3x0gg")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="Smoke" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_3x0gg")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="StartTimer" type="Timer" parent="."]
wait_time = 0.25
one_shot = true
autostart = true

[connection signal="timeout" from="StartTimer" to="." method="_on_start_timer_timeout"]
